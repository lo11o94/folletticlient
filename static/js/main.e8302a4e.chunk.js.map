{"version":3,"sources":["Extract.js","App.js","index.js"],"names":["socket","extraction","App","props","state","redirect","username","window","scrollTo","this","history","pushState","to","pathname","values","setState","document","title","style","display","justifyContent","width","marginTop","Redirect","onFinish","handleSubmit","Item","id","name","rules","required","message","size","placeholder","prefix","UserOutlined","type","htmlType","Component","Text","Typography","usernames","FollettiClient","useState","setName","setRoom","users","setUsers","setExtractions","useEffect","room","io","connect","emit","error","console","log","on","extractions","length","Array","from","map","user","push","color","Users","Extract","handleClickExtract","extracted","enable","disconnect","includes","flexDirection","fontWeight","onClick","render","exact","path","component","marginLeft","fontStyle","getElementById"],"mappings":"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","file":"static/js/main.e8302a4e.chunk.js","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\r\nimport { Button, Row, Typography } from 'antd';\r\nimport io from \"socket.io-client\";\r\n\r\nconst { Text } = Typography;\r\n\r\nvar usernames = [\r\n    \"lollino94\", \"giorgina03\", \"davidinorosso92\", \"elmaco94\", \"machostanza93\", \"sarettafashion93\",\r\n    \"bubusettete91\", \"cecigiova94\", \"tarozzinojohndeere93\", \"casonadi93\", \"anninapulcina19\",\r\n    \"rikymaxxari92\", \"yuppiemarty94\", \"taniettabulletta93\", \"alfajack90\"\r\n]\r\n\r\nlet socket;\r\nlet extraction;\r\n\r\nfunction FollettiClient({username}) {\r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n    const [users, setUsers] = useState('');\r\n    const [extractions, setExtractions] = useState('');\r\n    const ENDPOINT = \"https://follettiserver.herokuapp.com/\";\r\n\r\n    useEffect(() => {\r\n        const name = username\r\n        const room = \"FOLLETTI-room\"\r\n        socket = io.connect(ENDPOINT);\r\n\r\n        setRoom(room);\r\n        setName(name);\r\n\r\n        socket.emit('join', { name, room }, (error) => {\r\n            if(error) {\r\n                console.log(error);\r\n            }\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        socket.on(\"members\", ({ users }) => {\r\n            setUsers(users);\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        socket.on(\"extractions\", ({ extractions }) => {\r\n            setExtractions(extractions);\r\n            extraction = extractions[window.history.state.state.username]\r\n        });\r\n    }, []);\r\n\r\n    const Users = (users) => {\r\n        let usernames = []\r\n\r\n        Array.from(users).map(user => {\r\n            usernames.push(\r\n                <Row style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n                    <Text style={{color: \"green\"}}>{user.name}</Text>\r\n                </Row>\r\n            )\r\n        })\r\n\r\n        return usernames\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                users.length > 0 == true ?\r\n                    Users(users)\r\n                :\r\n                    <Text style={{color: \"red\"}}>Login gi√† effettuato.</Text>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nclass Extract extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            extracted: \"\",\r\n            enable: false,\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socket.disconnect();\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0,0);\r\n        if(usernames.includes(window.history.state.state.username)) {\r\n            this.setState({\r\n                username: window.history.state.state.username,\r\n                enable: true\r\n            }, () => {\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    handleClickExtract = () => {\r\n        this.setState({\r\n            extracted: extraction\r\n        })\r\n    }\r\n\r\n    render() {\r\n        document.title = 'FOLLETTI'\r\n        return (\r\n            <div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n            {\r\n                this.state.enable == true ?\r\n                    <div style={{display: 'flex', justifyContent: 'center', width: '20%'}}>\r\n                        <div style={{display: 'flex', flexDirection: \"column\", justifyContent: 'center'}}>\r\n                            <Row style={{display: 'flex', justifyContent: 'center', width: '100%', marginTop: 25}}>\r\n                                <Text style={{fontWeight: \"bold\"}}>{this.state.username}</Text>\r\n                            </Row>\r\n                            <Row style={{display: 'flex', justifyContent: 'center', width: '100%', marginTop: 25}}>\r\n                                <Text>Attualmente nella stanza:</Text>\r\n                            </Row>\r\n                            <Row style={{display: 'flex', justifyContent: 'center', width: '100%', marginTop: 25}}>\r\n                                <FollettiClient username={this.state.username}/>\r\n                            </Row>\r\n                            <Row style={{display: 'flex', justifyContent: 'center', width: '100%', marginTop: 25}}>\r\n                                <Button type=\"primary\" onClick={this.handleClickExtract}>\r\n                                    Estrai\r\n                                </Button>\r\n                            </Row>\r\n                            <Row style={{display: 'flex', justifyContent: 'center', width: '100%', marginTop: 25}}>\r\n                                <Text>{this.state.extracted}</Text>\r\n                            </Row>\r\n                        </div>\r\n                    </div>\r\n                :\r\n                    \"WRONG USERNAME\"\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Extract;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Form, Input, Button } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirect: false,\r\n            username: \"\",\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0,0);\r\n    }\r\n\r\n    Redirect() {\r\n        if (this.state.redirect) {\r\n            window.history.pushState(this.state.username, 'FOLLETTI', '/estrazione/')\r\n            return <Redirect to={{\r\n                pathname: '/estrazione/',\r\n                state: { username: this.state.username }\r\n            }}/>\r\n        }\r\n    }\r\n\r\n    handleSubmit(values) {\r\n        if(values) {\r\n            this.setState({\r\n                redirect: true,\r\n                username: values.username,\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        document.title = 'FOLLETTI'\r\n        return (\r\n            <div style={{display: 'flex', justifyContent: 'center', width: '100%', marginTop: 25}}>\r\n                {this.Redirect()}\r\n                <Form style={{width: '20%'}} onFinish={(values) => this.handleSubmit(values)}>\r\n                    <Form.Item\r\n                        id=\"username\"\r\n                        name=\"username\"\r\n                        rules={[{\r\n                            required: true,\r\n                            message: 'Immettere un username valido!',\r\n                        }]}\r\n                    >\r\n                        <Input size=\"large\" placeholder=\"Inserisci il tuo Username\" prefix={<UserOutlined />} />\r\n                    </Form.Item>\r\n\r\n                    <div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            Procedi\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\nimport App from './App';\r\nimport Extract from './Extract';\r\nimport 'antd/dist/antd.css'; // or 'antd/dist/antd.less'\r\n\r\nfunction NotFound() {\r\n    return <h3 style={{marginLeft: 10, fontStyle: 'italic', fontWeight: 'bold'}}>404 Not Found</h3>\r\n}\r\n\r\nrender((\r\n    <BrowserRouter>\r\n        <Switch>\r\n            <Route exact path={\"/folletticlient/\"} component={App}/>\r\n            <Route exact path={\"/estrazione/\"} component={Extract}/>\r\n            <Route path='*' component={NotFound} />\r\n        </Switch>\r\n    </BrowserRouter>\r\n), document.getElementById('root'));\r\n"],"sourceRoot":""}