(this.webpackJsonpfolletticlient=this.webpackJsonpfolletticlient||[]).push([[0],{343:function(e,t,n){"use strict";n.r(t);var i,a,s=n(6),c=n(0),r=n(20),o=n(118),l=n(15),u=n(92),j=n(93),d=n(103),h=n(102),f=n(348),b=n(351),m=n(180),y=n(350),x=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).state={redirect:!1,username:""},i}return Object(j.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"Redirect",value:function(){if(this.state.redirect)return window.history.pushState(this.state.username,"FOLLETTI","/estrazione/"),Object(s.jsx)(l.a,{to:{pathname:"/estrazione/",state:{username:this.state.username}}})}},{key:"handleSubmit",value:function(e){e&&this.setState({redirect:!0,username:e.username})}},{key:"render",value:function(){var e=this;return document.title="FOLLETTI",Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:25},children:[this.Redirect(),Object(s.jsxs)(f.a,{style:{width:"20%"},onFinish:function(t){return e.handleSubmit(t)},children:[Object(s.jsx)(f.a.Item,{id:"username",name:"username",rules:[{required:!0,message:"Immettere un username valido!"}],children:Object(s.jsx)(b.a,{size:"large",placeholder:"Inserisci il tuo Username",prefix:Object(s.jsx)(y.a,{})})}),Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(s.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Procedi"})})]})]})}}]),n}(c.Component),O=n(81),p=n(349),v=n(347),w=n(167),g=n.n(w),T=p.a.Text,C=["lollino94","giorgina03","davidinorosso92","elmaco94","machostanza93","sarettafashion93","bubusettete91","cecigiova94","tarozzinojohndeere93","casonadi93","anninapulcina19","rikymaxxari92","yuppiemarty94","taniettabulletta93","alfajack90"];function k(e){var t=e.username,n=Object(c.useState)(""),r=Object(O.a)(n,2),o=(r[0],r[1]),l=Object(c.useState)(""),u=Object(O.a)(l,2),j=(u[0],u[1]),d=Object(c.useState)(""),h=Object(O.a)(d,2),f=h[0],b=h[1],m=Object(c.useState)(""),y=Object(O.a)(m,2),x=(y[0],y[1]);Object(c.useEffect)((function(){var e=t,n="FOLLETTI-room";i=g.a.connect("https://follettiserver.herokuapp.com/"),j(n),o(e),i.emit("join",{name:e,room:n},(function(e){e&&console.log(e)}))}),[]),Object(c.useEffect)((function(){i.on("members",(function(e){var t=e.users;b(t)}))}),[]),Object(c.useEffect)((function(){i.on("extractions",(function(e){var t=e.extractions;x(t),a=t[window.history.state.state.username]}))}),[]);return Object(s.jsx)("div",{children:f.length>0==1?function(e){var t=[];return Array.from(e).map((function(e){t.push(Object(s.jsx)(v.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(s.jsx)(T,{style:{color:"green"},children:e.name})}))})),t}(f):Object(s.jsx)(T,{style:{color:"red"},children:"Login gi\xe0 effettuato."})})}var E=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).handleClickExtract=function(){i.setState({extracted:a})},i.state={username:"",extracted:"",enable:!1},i}return Object(j.a)(n,[{key:"componentWillUnmount",value:function(){i.disconnect()}},{key:"componentDidMount",value:function(){window.scrollTo(0,0),C.includes(window.history.state.state.username)&&this.setState({username:window.history.state.state.username,enable:!0},(function(){}))}},{key:"render",value:function(){return document.title="FOLLETTI",Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:1==this.state.enable?Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"20%"},children:Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(s.jsx)(v.a,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:25},children:Object(s.jsx)(T,{style:{fontWeight:"bold"},children:this.state.username})}),Object(s.jsx)(v.a,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:25},children:Object(s.jsx)(T,{children:"Attualmente nella stanza:"})}),Object(s.jsx)(v.a,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:25},children:Object(s.jsx)(k,{username:this.state.username})}),Object(s.jsx)(v.a,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:25},children:Object(s.jsx)(m.a,{type:"primary",onClick:this.handleClickExtract,children:"Estrai"})}),Object(s.jsx)(v.a,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:25},children:Object(s.jsx)(T,{children:this.state.extracted})})]})}):"WRONG USERNAME"})}}]),n}(c.Component);n(342);Object(r.render)(Object(s.jsx)(o.a,{children:Object(s.jsxs)(l.d,{children:[Object(s.jsx)(l.b,{exact:!0,path:"/folletti/",component:x}),Object(s.jsx)(l.b,{exact:!0,path:"/estrazione/",component:E}),Object(s.jsx)(l.b,{path:"*",component:function(){return Object(s.jsx)("h3",{style:{marginLeft:10,fontStyle:"italic",fontWeight:"bold"},children:"404 Not Found"})}})]})}),document.getElementById("root"))}},[[343,1,2]]]);
//# sourceMappingURL=main.914ee267.chunk.js.map